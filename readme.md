예약플로우
1.     프론트에서 예약페이지에 들어옴
2.     프론트에서 예약가능시간을 받아감(TimeLine주면될듯)
3.     프론트에서 예약가능시간을 찍어서 백엔드로 던짐
4.     해당시간이 오버랩되지않는지 확인한후,추가후 즉시 임시예약으로 db에 저장,충돌시 충돌메시지 프론트로 전달
5.     임시예약이 성공했으면,해당 예약에 대한 가격을 계산(일요일추가금,야간추가금)후 프론트로 리턴해줌
6.     프론트에서 결제후(결제는 생략) 성공시 임시예약을 성공예약으로 변경
결제플로우
*     생략
환불플로우
*     프론트에서 환불페이지에 들어옴
*     프론트에서 환불요청을 백엔드로 던짐
*     확인후 돈을 던져준후,해당예약을 취소로 변경


예약 오버랩 방지
    도메인 레벨에서의 오버랩 체크
    비관적락 사용으로 동시성이슈 방지,스레드를 이용한 동시성 테스트
핵사고날
    엔티티와 도메인의 분리



ReservationTime:한 예약의 예약기간
TimeSlot:ReservationTime을 각 날짜별로 자른것

TimeLine:ReservationTime을 각 대상(창고)별로 모은것,
    여기서 새 예약을 추가할수있는지 없는지를 판단,이시점에서 비동기문제 발생가능,단 도메인이 아닌 상위레벨에서 처리해야함

TimeLine에 ReservationTime을 추가하는건 다른트랜잭션(require_new)으로 즉시처리하고 커밋해야함(데드락방지)
충돌날수도있으니 이부분에서 예외처리하고,이미들어가있으면 예외코드리턴
이때 예약은 임시예약으로 넣어야함

임시예약은 배치로 주기적으로 삭제

